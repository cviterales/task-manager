{"version":3,"sources":["components/Card/index.js","components/Animations/AnimatedListItem/AnimatedListItem.js","components/Status/index.js","components/Status/style.module.scss","containers/Client/style.module.scss","containers/Client/ClientAccordion/style.module.scss","containers/Client/ClientAccordion/ClientAccordion.js","containers/Client/Client.js"],"names":["Card","children","hoverCheck","style","hoverStyle","className","AnimatedListItem","index","delay","div","initial","y","opacity","animate","transition","exit","Status","description","name","styles","status","join","module","exports","ClientAccordion","client","history","useState","showAccount","setShowAccount","subAccounts","setSubAccounts","id_service","useSelector","state","auth","user","isMounted","useRef","showSubAccountHandler","a","getClientSubAccounts","id_account","res","current","useEffect","toSubAcc","item","client_sub_account","id_sub_account","client_id","push","client_card","onClick","client_content","id","childs","content_child_info","child","account_name","content_left","icon","faMapMarkerAlt","size","color","location","content_right","faAddressCard","doc_type","doc_number","faPhone","phone","show_accounts","hidden_accounts","map","dateInactive","Date","date_inactive","toLocaleDateString","client_card_child","client_content_childs","inactive","faWifi","service_name","faMapMarkedAlt","address","title","faCalendarTimes","description_inactive","faBan","client_account","Button","variant","renderClient","Client","props","timeout","clientList","setClientList","loading","setLoading","error","setError","getData","account_number","phone_number","getClients","then","InputsHandler","e","value","target","params","clearTimeout","setTimeout","isBrowser","header","marginBottom","boldText","input_wrapper","input_container","InputText","type","placeHolder","faListOl","iconColor","onChange","faUserCircle","length","el","error_title","Spinner"],"mappings":"+GAAA,yBAeeA,IAZF,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,SAA+C,IAArCC,kBAAqC,aAAjBC,aAAiB,MAAT,GAAS,EACzDC,EAAU,kBAAcD,GAI5B,OAHID,IACFE,EAAU,wBAAoBD,IAG9B,qBAAKE,UAAWD,EAAhB,SACE,mCAAGH,Q,6ECVT,yBAeeK,IAZU,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,MAAON,EAA6B,EAA7BA,SAA6B,IAAnBO,aAAmB,MAAX,IAAW,EAC9D,OACE,cAAC,IAAOC,IAAR,CACEC,QAAS,CAAEC,EAAG,IAAKC,QAAS,GAC5BC,QAAS,CAAEF,EAAG,EAAGC,QAAS,EAAGE,WAAY,CAAEN,MAAOA,EAAQD,IAC1DQ,KAAM,CAAEJ,GAAI,IAAKC,QAAS,GAH5B,SAKGX,M,iCCVP,6BAMee,IAJA,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,KAC7B,OAAO,qBAAKb,UAAW,CAACc,IAAOC,OAAQH,GAAaI,KAAK,KAAlD,SAAyDH,M,oBCFlEI,EAAOC,QAAU,CAAC,OAAS,wB,oBCA3BD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,SAAW,wBAAwB,SAAW,wBAAwB,MAAQ,qBAAqB,QAAU,uBAAuB,OAAS,sBAAsB,SAAW,wBAAwB,KAAO,oBAAoB,UAAY,yBAAyB,OAAS,sBAAsB,OAAS,sBAAsB,iBAAmB,gCAAgC,cAAgB,6BAA6B,gBAAkB,+BAA+B,YAAc,2BAA2B,SAAW,wBAAwB,OAAS,wB,oBCA7lBD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,SAAW,wBAAwB,SAAW,wBAAwB,MAAQ,qBAAqB,QAAU,uBAAuB,OAAS,sBAAsB,SAAW,wBAAwB,KAAO,oBAAoB,UAAY,yBAAyB,OAAS,sBAAsB,YAAc,2BAA2B,eAAiB,8BAA8B,sBAAwB,qCAAqC,OAAS,sBAAsB,mBAAqB,kCAAkC,MAAQ,qBAAqB,QAAU,uBAAuB,aAAe,4BAA4B,cAAgB,6BAA6B,GAAK,kBAAkB,kBAAoB,iCAAiC,cAAgB,6BAA6B,gBAAkB,+BAA+B,eAAiB,gC,+MC4Kr4BC,EAzJS,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAAc,EACTC,oBAAS,GADA,mBACxCC,EADwC,KAC3BC,EAD2B,OAETF,oBAAS,GAFA,mBAExCG,EAFwC,KAE3BC,EAF2B,KAGzCC,EAAaC,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKC,KAAKJ,cACpDK,EAAYC,kBAAO,GAEnBC,EAAqB,uCAAG,WAAOP,EAAYP,GAAnB,eAAAe,EAAA,yDACT,IAAfR,EADwB,gCAERS,YAAqBT,EAAYP,EAAOiB,YAFhC,OAEpBC,EAFoB,OAGtBN,EAAUO,UACZf,GAAe,SAACD,GAAD,OAAkBA,KACjCG,EAAeY,IALS,sBAQtBN,EAAUO,UACZf,GAAe,SAACD,GAAD,OAAkBA,KACjCG,KAVwB,2CAAH,wDAe3Bc,qBAAU,WACR,OAAO,WACLR,EAAUO,SAAU,KAErB,IAEH,IAAME,EAAW,SAACC,GAAU,IAAD,EACrBb,EAAQ,CACVc,mBAAkB,iBAAED,QAAF,IAAEA,OAAF,EAAEA,EAAME,sBAAR,QAA0BxB,EAAOiB,WACnDQ,UAAWzB,EAAOiB,YAEpBhB,EAAQyB,KAAK,sBAAuBjB,IAgHtC,OACE,qBAAK7B,UAAWF,IAAMiD,YAAtB,SACE,cAACpD,EAAA,EAAD,UACE,qBAAKqD,QAAS,kBAAMd,EAAsBP,EAAYP,IAAtD,SAhHe,SAACA,GACpB,OACE,qCACE,sBAAKpB,UAAWF,IAAMmD,eAAtB,UACE,qBAAKjD,UAAWF,IAAMoD,GAAtB,SACE,mCAAM9B,EAAOiB,gBAEf,qBAAKrC,UAAWF,IAAMqD,OAAtB,SACE,sBAAKnD,UAAWF,IAAMsD,mBAAtB,UACE,sBAAKpD,UAAWF,IAAMuD,MAAtB,UACE,6BAAKjC,EAAOkC,eACZ,sBAAKtD,UAAWF,IAAMyD,aAAtB,UACE,cAAC,IAAD,CAAiBC,KAAMC,IAAgBC,KAAK,KAAKC,MAAM,YACvD,4BAAIvC,EAAOwC,iBAGf,sBAAK5D,UAAWF,IAAMuD,MAAtB,UACE,sBAAKrD,UAAWF,IAAM+D,cAAtB,UACE,cAAC,IAAD,CAAiBL,KAAMM,IAAeJ,KAAK,KAAKC,MAAM,YACtD,8BACGvC,EAAO2C,SADV,KACsB3C,EAAO4C,iBAG/B,sBAAKhE,UAAWF,IAAM+D,cAAtB,UACE,cAAC,IAAD,CAAiBL,KAAMS,IAASP,KAAK,KAAKC,MAAM,YAChD,4BAAIvC,EAAO8C,sBAMpB3C,IACEE,EACC,qBAAKzB,UAAS,UAAKuB,EAAczB,IAAMqE,cAAgBrE,IAAMsE,iBAA7D,gBACG3C,QADH,IACGA,OADH,EACGA,EAAa4C,KAAI,SAAC3B,EAAMxC,GACvB,IAAIoE,EAAe,IAAIC,KAAK7B,EAAK8B,eAAeC,qBAChD,OACE,qBACEzE,UAAWF,IAAM4E,kBAEjB1B,QAAS,WACPP,EAASC,IAJb,SAOE,sBAAK1C,UAAWF,IAAM6E,sBAAtB,UACE,qBAAK3E,UAAWF,IAAMoD,GAAIpD,MAAO,CAAES,QAASmC,EAAKkC,SAAW,MAAQ,KAApE,SACE,mCAAMlC,EAAKE,oBAEb,qBAAK5C,UAAWF,IAAMqD,OAAtB,SACE,sBAAKnD,UAAWF,IAAMsD,mBAAtB,UACE,sBAAKpD,UAAWF,IAAMuD,MAAtB,UACE,sBAAKrD,UAAWF,IAAMyD,aAAtB,UACE,cAAC,IAAD,CAAiBC,KAAMqB,IAAQnB,KAAK,KAAKC,MAAM,YAC/C,4BAAIjB,EAAKoC,kBAEX,sBAAK9E,UAAWF,IAAMyD,aAAtB,UACE,cAAC,IAAD,CAAiBC,KAAMuB,IAAgBrB,KAAK,KAAKC,MAAM,YACvD,4BAAIjB,EAAKsC,gBAIb,sBAAKhF,UAAWF,IAAMuD,MAAO4B,MAAM,mBAAnC,UACGvC,EAAK8B,cACJ,sBAAKxE,UAAWF,IAAM+D,cAAtB,UACE,cAAC,IAAD,CAAiBL,KAAM0B,IAAiBxB,KAAK,KAAKC,MAAM,YACxD,4BAAIW,OAQJ,KACH5B,EAAKyC,qBACJ,sBAAKnF,UAAWF,IAAM+D,cAAtB,UACE,cAAC,IAAD,CAAiBL,KAAM4B,IAAO1B,KAAK,KAAKC,MAAM,YAC9C,4BAAIjB,EAAKyC,0BAET,MACFzC,EAAKkC,UACL,cAACjE,EAAA,EAAD,CACEC,YAAa8B,EAAKkC,SAAW,WAAa,UAC1C/D,KAAM6B,EAAKkC,SAAW,WAAa,uBA5C1C1E,QAwDb,qBAAKF,UAAWF,IAAMuF,eAAtB,SACE,cAACC,EAAA,EAAD,CACEC,QAAQ,UACRvC,QAAS,WACPP,KAHJ,SAME,oDAUwD+C,CAAapE,U,kBCvCtEqE,UAnHA,SAACC,GACd,IAAIC,EACEhE,EAAaC,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKC,KAAKJ,cAFlC,EAGYL,mBAAS,IAHrB,mBAGjBsE,EAHiB,KAGLC,EAHK,OAIMvE,oBAAS,GAJf,mBAIjBwE,EAJiB,KAIRC,EAJQ,OAKEzE,oBAAS,GALX,mBAKjB0E,EALiB,KAKVC,EALU,KAOlBC,EAAO,uCAAG,qCAAA/D,EAAA,sDAASR,EAAT,EAASA,WAAY2B,EAArB,EAAqBA,aAAc6C,EAAnC,EAAmCA,eAAgBnC,EAAnD,EAAmDA,WAAYoC,EAA/D,EAA+DA,aAC7EH,GAAS,GACTF,GAAW,GACXM,YAAW1E,EAAY2B,EAAc6C,EAAgBnC,EAAYoC,GAAcE,MAAK,SAAChE,GAC/EA,EAAI0D,OACNH,EAAc,IACdI,GAAS,IAETJ,EAAcvD,GAEhByD,GAAW,MAVC,2CAAH,sDAcPQ,EAAgB,SAACC,GACrB,IAAMC,EAAQD,EAAEE,OAAOD,MACjB5F,EAAO2F,EAAEE,OAAO7F,KAClB8F,EAAS,CACXhF,aACAwE,eAAgB,GAChB7C,aAAc,GACdU,WAAY,GACZoC,aAAc,IAEhBO,EAAO9F,GAAQ4F,EACD,KAAVA,EACFZ,EAAc,KAEVF,GAASiB,aAAajB,GAC1BA,EAAUkB,YAAW,WACnBX,EAAQS,KACP,OAmBP,OACE,gCACGG,aACC,qBAAK9G,UAAWF,IAAMiH,OAAtB,SACE,oBAAIjH,MAAO,CAAEkH,aAAc,QAA3B,SACE,sBAAMhH,UAAWF,IAAMmH,SAAvB,gCAIN,sBAAKjH,UAAWF,IAAMsB,OAAtB,UACE,sBAAKpB,UAAWF,IAAMoH,cAAtB,UACE,qBAAKlH,UAAWF,IAAMqH,gBAAtB,SACE,cAACC,EAAA,EAAD,CACEC,KAAK,SACLxG,KAAK,iBACLyG,YAAY,eACZ9D,KAAM+D,IACNC,UAAU,UACVC,SAAU,SAACjB,GAAD,OAAOD,EAAcC,QAGnC,qBAAKxG,UAAWF,IAAMqH,gBAAtB,SACE,cAACC,EAAA,EAAD,CACEC,KAAK,OACLxG,KAAK,eACL2C,KAAMkE,IACNF,UAAU,UACVF,YAAY,YACZG,SAAU,SAACjB,GAAD,OAAOD,EAAcC,QAGnC,qBAAKxG,UAAWF,IAAMqH,gBAAtB,SACE,cAACC,EAAA,EAAD,CACEC,KAAK,OACLxG,KAAK,aACL2C,KAAMM,IACN0D,UAAU,UACVF,YAAY,SACZG,SAAU,SAACjB,GAAD,OAAOD,EAAcC,QAGnC,qBAAKxG,UAAWF,IAAMqH,gBAAtB,SACE,cAACC,EAAA,EAAD,CACEC,KAAK,OACLxG,KAAK,eACL2C,KAAMS,IACNuD,UAAU,UACVF,YAAY,cACZG,SAAU,SAACjB,GAAD,OAAOD,EAAcC,WA/DlCZ,EAAW+B,OAAS,IAAM7B,EAC/BF,EAAWvB,KAAI,SAACuD,EAAI1H,GAClB,OACE,cAACD,EAAA,EAAD,CAAkBC,MAAOA,EAAzB,SACE,cAAC,EAAD,aAAiBkB,OAAQwG,GAAQlC,KADExF,MAMzC,qBAAKF,UAAWF,IAAM+H,YAAtB,SACG/B,EAAU,cAACgC,EAAA,EAAD,CAASpE,KAAK,OAAOC,MAAM,YAAeqC,EAAQ,oDAA8B","file":"static/js/15.cc8da4a1.chunk.js","sourcesContent":["import \"./style.scss\";\r\nimport \"../../styles/status.scss\";\r\n\r\nconst Card = ({ children, hoverCheck = false, style = \"\" }) => {\r\n  let hoverStyle = `wrapper ${style}`;\r\n  if (hoverCheck) {\r\n    hoverStyle = `wrapper_hover ${style}`;\r\n  }\r\n  return (\r\n    <div className={hoverStyle}>\r\n      <>{children}</>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst AnimatedListItem = ({ index, children, delay = 0.05 }) => {\r\n  return (\r\n    <motion.div\r\n      initial={{ y: 100, opacity: 0 }}\r\n      animate={{ y: 0, opacity: 1, transition: { delay: delay * index } }}\r\n      exit={{ y: -100, opacity: 0 }}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default AnimatedListItem;\r\n","import styles from \"./style.module.scss\";\r\n\r\nconst Status = ({ description, name }) => {\r\n  return <div className={[styles.status, description].join(\" \")}>{name}</div>;\r\n};\r\n\r\nexport default Status;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"style_status__2t8aS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enabled\":\"style_enabled__J8meZ\",\"disabled\":\"style_disabled__1ioKm\",\"assigned\":\"style_assigned__3Nfkh\",\"going\":\"style_going__toTkq\",\"working\":\"style_working__1VQOx\",\"paused\":\"style_paused___C4jk\",\"finished\":\"style_finished__29PTR\",\"call\":\"style_call__u7EwD\",\"confirmed\":\"style_confirmed__2YFDk\",\"hidden\":\"style_hidden__1jkao\",\"client\":\"style_client__1estp\",\"search_container\":\"style_search_container__1h_2H\",\"input_wrapper\":\"style_input_wrapper__33RVv\",\"input_container\":\"style_input_container__wJE17\",\"error_title\":\"style_error_title__u1oH6\",\"boldText\":\"style_boldText__2RclO\",\"header\":\"style_header__opI4l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enabled\":\"style_enabled__2sD_U\",\"disabled\":\"style_disabled__hJBI8\",\"assigned\":\"style_assigned__1qqo4\",\"going\":\"style_going__UPdab\",\"working\":\"style_working__e1Nfr\",\"paused\":\"style_paused__VBsUr\",\"finished\":\"style_finished__293-W\",\"call\":\"style_call__wqrDa\",\"confirmed\":\"style_confirmed__1u2ww\",\"hidden\":\"style_hidden__qpxOc\",\"client_card\":\"style_client_card__2Q0vQ\",\"client_content\":\"style_client_content__HPVnI\",\"client_content_childs\":\"style_client_content_childs__17Bo8\",\"childs\":\"style_childs__1mj2a\",\"content_child_info\":\"style_content_child_info__10TLU\",\"child\":\"style_child__1bRLy\",\"content\":\"style_content__21q2P\",\"content_left\":\"style_content_left__2h61A\",\"content_right\":\"style_content_right__P6vfP\",\"id\":\"style_id__vjOwb\",\"client_card_child\":\"style_client_card_child__gfSL_\",\"show_accounts\":\"style_show_accounts__-6VIL\",\"hidden_accounts\":\"style_hidden_accounts__Gq8wA\",\"client_account\":\"style_client_account__3omLJ\"};","import React, { useEffect, useState, useRef } from \"react\";\r\nimport style from \"./style.module.scss\";\r\n\r\nimport Card from \"../../../components/Card/index\";\r\nimport Status from \"../../../components/Status/index\";\r\n\r\nimport {\r\n  faAddressCard,\r\n  faBan,\r\n  faCalendarTimes,\r\n  faMapMarkedAlt,\r\n  faMapMarkerAlt,\r\n  faPhone,\r\n  faWifi,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { getClientSubAccounts } from \"../../../api/index\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Button from \"../../../components/Button\";\r\n\r\nconst ClientAccordion = ({ client, history }) => {\r\n  const [showAccount, setShowAccount] = useState(false);\r\n  const [subAccounts, setSubAccounts] = useState(false);\r\n  const id_service = useSelector((state) => state.auth.user.id_service);\r\n  const isMounted = useRef(true)\r\n\r\n  const showSubAccountHandler = async (id_service, client) => {\r\n    if (id_service === 1) {\r\n      const res = await getClientSubAccounts(id_service, client.id_account)\r\n      if (isMounted.current) {\r\n        setShowAccount((showAccount) => !showAccount);\r\n        setSubAccounts(res);\r\n      }\r\n    } else {\r\n      if (isMounted.current) {\r\n        setShowAccount((showAccount) => !showAccount);\r\n        setSubAccounts();\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false\r\n    }\r\n  }, [])\r\n\r\n  const toSubAcc = (item) => {\r\n    let state = {\r\n      client_sub_account: item?.id_sub_account ?? client.id_account,\r\n      client_id: client.id_account,\r\n    };\r\n    history.push(\"/client_sub_account\", state);\r\n  };\r\n\r\n  const renderClient = (client) => {\r\n    return (\r\n      <>\r\n        <div className={style.client_content}>\r\n          <div className={style.id}>\r\n            <p># {client.id_account}</p>\r\n          </div>\r\n          <div className={style.childs}>\r\n            <div className={style.content_child_info}>\r\n              <div className={style.child}>\r\n                <h4>{client.account_name}</h4>\r\n                <div className={style.content_left}>\r\n                  <FontAwesomeIcon icon={faMapMarkerAlt} size=\"1x\" color=\"#4299e1\" />\r\n                  <p>{client.location}</p>\r\n                </div>\r\n              </div>\r\n              <div className={style.child}>\r\n                <div className={style.content_right}>\r\n                  <FontAwesomeIcon icon={faAddressCard} size=\"1x\" color=\"#17c3b2\" />\r\n                  <p>\r\n                    {client.doc_type}: {client.doc_number}\r\n                  </p>\r\n                </div>\r\n                <div className={style.content_right}>\r\n                  <FontAwesomeIcon icon={faPhone} size=\"1x\" color=\"#4299e1\" />\r\n                  <p>{client.phone}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {showAccount &&\r\n          (subAccounts ? (\r\n            <div className={`${showAccount ? style.show_accounts : style.hidden_accounts}`}>\r\n              {subAccounts?.map((item, index) => {\r\n                let dateInactive = new Date(item.date_inactive).toLocaleDateString();\r\n                return (\r\n                  <div\r\n                    className={style.client_card_child}\r\n                    key={index}\r\n                    onClick={() => {\r\n                      toSubAcc(item);\r\n                    }}\r\n                  >\r\n                    <div className={style.client_content_childs}>\r\n                      <div className={style.id} style={{ opacity: item.inactive ? \"0.6\" : \"1\" }}>\r\n                        <p># {item.id_sub_account}</p>\r\n                      </div>\r\n                      <div className={style.childs}>\r\n                        <div className={style.content_child_info}>\r\n                          <div className={style.child}>\r\n                            <div className={style.content_left}>\r\n                              <FontAwesomeIcon icon={faWifi} size=\"1x\" color=\"#4299e1\" />\r\n                              <p>{item.service_name}</p>\r\n                            </div>\r\n                            <div className={style.content_left}>\r\n                              <FontAwesomeIcon icon={faMapMarkedAlt} size=\"1x\" color=\"#4299e1\" />\r\n                              <p>{item.address}</p>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className={style.child} title=\"Baja de servicio\">\r\n                            {item.date_inactive ? (\r\n                              <div className={style.content_right}>\r\n                                <FontAwesomeIcon icon={faCalendarTimes} size=\"1x\" color=\"#4299e1\" />\r\n                                <p>{dateInactive}</p>\r\n                                {/*                          <Status\r\n                              name={item.inactive ? \"disabled\" : \"enabled\"}\r\n                              description={\r\n                                item.inactive ? \"Inactivo\" : \"Activo\"\r\n                              } \r\n                            />*/}\r\n                              </div>\r\n                            ) : null}\r\n                            {item.description_inactive ? (\r\n                              <div className={style.content_right}>\r\n                                <FontAwesomeIcon icon={faBan} size=\"1x\" color=\"#4299e1\" />\r\n                                <p>{item.description_inactive}</p>\r\n                              </div>\r\n                            ) : null}\r\n                            {!item.inactive && (\r\n                              <Status\r\n                                description={item.inactive ? \"disabled\" : \"enabled\"}\r\n                                name={item.inactive ? \"Inactivo\" : \"Activo\"}\r\n                              />\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div className={style.client_account}>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => {\r\n                  toSubAcc();\r\n                }}\r\n              >\r\n                <h4>Ver Cuenta</h4>\r\n              </Button>\r\n            </div>\r\n          ))}\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <div className={style.client_card}>\r\n      <Card>\r\n        <div onClick={() => showSubAccountHandler(id_service, client)}>{renderClient(client)}</div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientAccordion;\r\n","import React, { useState } from \"react\";\r\nimport style from \"./style.module.scss\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport InputText from \"../../components/InputText\";\r\nimport Spinner from \"../../components/Spinner/index\";\r\nimport ClientAccordion from \"./ClientAccordion/ClientAccordion\";\r\nimport AnimatedListItem from \"../../components/Animations/AnimatedListItem/AnimatedListItem\";\r\nimport { faAddressCard, faListOl, faPhone, faUserCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { getClients } from \"../../api/index\";\r\nimport { isBrowser } from \"react-device-detect\";\r\n\r\nconst Client = (props) => {\r\n  let timeout;\r\n  const id_service = useSelector((state) => state.auth.user.id_service);\r\n  const [clientList, setClientList] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n\r\n  const getData = async ({ id_service, account_name, account_number, doc_number, phone_number }) => {\r\n    setError(false);\r\n    setLoading(true);\r\n    getClients(id_service, account_name, account_number, doc_number, phone_number).then((res) => {\r\n      if (res.error) {\r\n        setClientList([]);\r\n        setError(true);\r\n      } else {\r\n        setClientList(res);\r\n      }\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const InputsHandler = (e) => {\r\n    const value = e.target.value;\r\n    const name = e.target.name;\r\n    let params = {\r\n      id_service,\r\n      account_number: \"\",\r\n      account_name: \"\",\r\n      doc_number: \"\",\r\n      phone_number: \"\",\r\n    };\r\n    params[name] = value;\r\n    if (value === \"\") {\r\n      setClientList([]);\r\n    } else {\r\n      if (timeout) clearTimeout(timeout);\r\n      timeout = setTimeout(() => {\r\n        getData(params);\r\n      }, 500);\r\n    }\r\n  };\r\n  const renderClientList = () => {\r\n    return clientList.length > 0 && !loading ? (\r\n      clientList.map((el, index) => {\r\n        return (\r\n          <AnimatedListItem index={index} key={index}>\r\n            <ClientAccordion client={el} {...props} />\r\n          </AnimatedListItem>\r\n        );\r\n      })\r\n    ) : (\r\n      <div className={style.error_title}>\r\n        {loading ? <Spinner size=\"2rem\" color=\"#3182ce\" /> : error ? <h3>No hay resultados.</h3> : null}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {isBrowser && (\r\n        <div className={style.header}>\r\n          <h3 style={{ marginBottom: \"1rem\" }}>\r\n            <span className={style.boldText}>Buscar cliente</span>\r\n          </h3>\r\n        </div>\r\n      )}\r\n      <div className={style.client}>\r\n        <div className={style.input_wrapper}>\r\n          <div className={style.input_container}>\r\n            <InputText\r\n              type=\"number\"\r\n              name=\"account_number\"\r\n              placeHolder=\"N Cliente...\"\r\n              icon={faListOl}\r\n              iconColor=\"#fe6d73\"\r\n              onChange={(e) => InputsHandler(e)}\r\n            />\r\n          </div>\r\n          <div className={style.input_container}>\r\n            <InputText\r\n              type=\"text\"\r\n              name=\"account_name\"\r\n              icon={faUserCircle}\r\n              iconColor=\"#ffcb77\"\r\n              placeHolder=\"Nombre...\"\r\n              onChange={(e) => InputsHandler(e)}\r\n            />\r\n          </div>\r\n          <div className={style.input_container}>\r\n            <InputText\r\n              type=\"text\"\r\n              name=\"doc_number\"\r\n              icon={faAddressCard}\r\n              iconColor=\"#17c3b2\"\r\n              placeHolder=\"DNI...\"\r\n              onChange={(e) => InputsHandler(e)}\r\n            />\r\n          </div>\r\n          <div className={style.input_container}>\r\n            <InputText\r\n              type=\"text\"\r\n              name=\"phone_number\"\r\n              icon={faPhone}\r\n              iconColor=\"#4299e1\"\r\n              placeHolder=\"Telefono...\"\r\n              onChange={(e) => InputsHandler(e)}\r\n            />\r\n          </div>\r\n        </div>\r\n        {renderClientList()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Client;\r\n"],"sourceRoot":""}