(this.webpackJsonptask_manager=this.webpackJsonptask_manager||[]).push([[10],{154:function(e,t,c){"use strict";c(155),c(156);var a=c(1);t.a=function(e){var t=e.children,c=e.hoverCheck,n=void 0!==c&&c,s=e.style,r=void 0===s?"":s,i="wrapper ".concat(r);return n&&(i="wrapper_hover ".concat(r)),Object(a.jsx)("div",{className:i,children:Object(a.jsx)(a.Fragment,{children:t})})}},155:function(e,t,c){},156:function(e,t,c){},157:function(e,t,c){"use strict";c(0);var a=c(352),n=c(1);t.a=function(e){var t=e.index,c=e.children,s=e.delay,r=void 0===s?.05:s;return Object(n.jsx)(a.a.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1,transition:{delay:r*t}},exit:{y:-100,opacity:0},children:c})}},158:function(e,t,c){"use strict";var a=c(163),n=c.n(a),s=c(1);t.a=function(e){var t=e.description,c=e.name;return Object(s.jsx)("div",{className:[n.a.status,t].join(" "),children:c})}},159:function(e,t,c){"use strict";c(0);var a=c(165),n=c.n(a),s=c(56),r=c(41),i=c(1);t.a=function(e){var t=e.type,c=e.message,a=n.a.success,o=r.j;switch(t){case"error":a=n.a.danger,o=r.G;break;case"info":a=n.a.info,o=r.w;break;case"success":a=n.a.success,o=r.j;break;default:a=n.a.success,o=r.j}return Object(i.jsx)("div",{className:a,children:Object(i.jsxs)("div",{className:n.a.title,children:[Object(i.jsx)(s.a,{icon:o,color:"white",size:"lg",className:n.a.icon}),Object(i.jsx)("p",{children:c})]})})}},160:function(e,t,c){"use strict";var a=c(161),n=c(164),s=c.n(n),r=c(1);t.a=function(e){var t=e.data,c=e.form,n=e.name,i=e.id,o=e.onChange,l=e.selectedValue,d=void 0===l?0:l,j=e.disabled,u=void 0!==j&&j,b=[{id:0,name:"Seleccione..."}].concat(Object(a.a)(t));return Object(r.jsx)("select",{disabled:u,"data-testid":n,className:s.a.select,name:n,form:c,id:i,onChange:o,required:!0,value:d,children:function(e){return e.map((function(e,t){return Object(r.jsx)("option",{value:e.id,disabled:0===t,children:e.name?e.name:"No hay datos"},e.name+e.id)}))}(b)})}},161:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var a=c(43);var n=c(58);function s(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(n.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},163:function(e,t,c){e.exports={status:"style_status__2t8aS"}},164:function(e,t,c){e.exports={select:"style_select__2g3EM"}},165:function(e,t,c){e.exports={success:"style_success__30vSy",danger:"style_danger__3VYR2",info:"style_info__8kZRS",seconds:"style_seconds__2kodu",icon:"style_icon__TW5-W",title:"style_title__1f0lf"}},174:function(e,t,c){"use strict";var a=c(178),n=c.n(a),s=c(1);t.a=function(e){var t=e.id,c=e.type,a=e.value,r=e.name,i=e.onChange;return Object(s.jsx)("input",{className:n.a.calendar,type:c,id:t,name:r,value:a,onChange:i})}},178:function(e,t,c){e.exports={calendar:"calendarbutton_calendar__1IOI3"}},195:function(e,t,c){"use strict";c(0);var a=c(196),n=c.n(a),s=c(56),r=c(41),i=c(154),o=c(158),l=c(7),d=c(1);t.a=function(e){var t=e.reclamo,c=e.handlerTask,a=Object(l.g)(),j=new Date(t.created_at).toLocaleString(),u=t.priority?n.a.card_priority:n.a.card;return Object(d.jsx)("div",{className:n.a.card_wrapper,children:Object(d.jsx)(i.a,{children:Object(d.jsxs)("div",{className:u,children:[Object(d.jsxs)("div",{className:n.a.card_container,onClick:function(){return function(e){a.push("/reclamo",{id_task:e.id,id_account:e.id_account})}(t)},children:[Object(d.jsxs)("div",{className:n.a.card_content,children:[Object(d.jsx)("h4",{children:t.account_name}),Object(d.jsx)("div",{className:n.a.card_item,children:Object(d.jsx)(o.a,{description:t.last_state_description,name:t.last_state})})]}),Object(d.jsxs)("div",{className:n.a.card_content,children:[Object(d.jsxs)("div",{className:n.a.card_item,children:[Object(d.jsx)("p",{style:{marginRight:"0.5rem"},children:Object(d.jsxs)("span",{className:n.a.boldText,children:["# ",t.number," "]})}),Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(d.jsx)(s.a,{icon:r.A,color:"#fe6d73",size:"1x"}),Object(d.jsx)("p",{style:{marginLeft:"0.5rem"},children:t.region_name})]})]}),Object(d.jsx)("div",{className:n.a.card_item,children:Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(d.jsx)("div",{style:{marginRight:"0.5rem"},children:Object(d.jsx)(s.a,{className:n.a.icon,color:"#4299e1",icon:r.g,size:"1x"})}),Object(d.jsx)("p",{children:j})]})})]})]}),Object(d.jsx)("div",{className:n.a.button_container,children:Object(d.jsx)("button",{className:n.a.button,onClick:function(){return c(t)},children:Object(d.jsx)(s.a,{icon:r.p,size:"1x"})})})]})})})}},196:function(e,t,c){e.exports={enabled:"style_enabled__3XoN6",disabled:"style_disabled__3B3z0",assigned:"style_assigned__3bAMV",going:"style_going__3DiE_",working:"style_working__2LX7_",paused:"style_paused__3M31y",finished:"style_finished__1_OWv",call:"style_call__3VsAG",confirmed:"style_confirmed__JmuWv",hidden:"style_hidden__33nBI",card_wrapper:"style_card_wrapper__3d4MF",card:"style_card__1pl5g",card_priority:"style_card_priority__6Bgcm",card_container:"style_card_container__32Xwc",card_content:"style_card_content__3b4Eh",card_item:"style_card_item__3obW3",boldText:"style_boldText__1QrRs",mh:"style_mh__3k08v",icon:"style_icon__2jeDj",button_container:"style_button_container__1mXeK",button:"style_button__3hCtO"}},200:function(e,t,c){"use strict";var a=c(201),n=c.n(a),s=c(1);t.a=function(e){var t=e.label,c=e.name,a=e.onChange,r=e.check,i=e.disabled;return Object(s.jsx)("div",{className:n.a.wrapper,children:Object(s.jsxs)("label",{className:n.a.container,children:[t,Object(s.jsx)("input",{"data-testid":c,name:c,type:"checkbox",defaultChecked:r,onChange:a,disabled:i}),Object(s.jsx)("span",{className:n.a.checkmark})]})})}},201:function(e,t,c){e.exports={container:"checkbox_container__2sXSg",checkmark:"checkbox_checkmark__3ZOPC"}},324:function(e,t,c){e.exports={main:"reclamos_main__1ybPY",filters:"reclamos_filters__22zqY",input_container:"reclamos_input_container__obJiy",header:"reclamos_header__2HV7s",wrapper:"reclamos_wrapper__22ji7",card:"reclamos_card__3kgbr",error_title:"reclamos_error_title__AkXXX",modal_close:"reclamos_modal_close__TQoOj",modal_open:"reclamos_modal_open__1hhVH",boldText:"reclamos_boldText__2oO7S"}},325:function(e,t,c){e.exports={content:"style_content__3OXKn",contentCenter:"style_contentCenter__3hCli",wrapper:"style_wrapper__1jAHX",wrapper_hidden:"style_wrapper_hidden__1YM2h",container:"style_container__ML9HN",header:"style_header__3tYt5",bottom:"style_bottom__1WNIy",boldText:"style_boldText__DtgQy"}},326:function(e,t,c){e.exports={wrapper:"style_wrapper__1r2R4",select:"style_select__p8voH",borderTop:"style_borderTop__1VT2r",selectedOption:"style_selectedOption__1Z7xI",optionsWrapper:"style_optionsWrapper__3bWTH",options:"style_options__2FjgO",icon:"style_icon__1hm4m"}},357:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),s=c(4),r=c(71),i=c(11),o=c(28),l=c(0),d=c(324),j=c.n(d),u=c(41),b=c(325),_=c.n(b),m=c(154),h=c(42),O=c(160),p=c(174),x=c(200),f=c(33),v=c(159),y=c(1),g=function(e){var t=e.onClose,c=e.data,a=e.operators,r=e.onSave,i=Object(l.useState)((new Date).toISOString().slice(0,10)),d=Object(o.a)(i,2),j=d[0],u=d[1],b=Object(l.useState)(!!c.priority&&c.priority),g=Object(o.a)(b,2),N=g[0],S=g[1],k=Object(l.useState)(0),T=Object(o.a)(k,2),w=T[0],C=T[1],R=Object(l.useState)(!1),E=Object(o.a)(R,2),D=E[0],I=E[1],V=Object(l.useState)(!1),W=Object(o.a)(V,2),X=W[0],F=W[1],A=Object(l.useState)(""),K=Object(o.a)(A,2),L=K[0],z=K[1],H=new Date(c.created_at).toLocaleString(),M=function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),I(!0),r(c.id,j,w,N).then((function(e){e.error?F(!0):F(!1),z(e.message),I(!1)})).catch((function(e){F(!0),I(!1)})),setTimeout((function(){z(),F(!1)}),5e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=[];return a.forEach((function(e){var t={id:e.id_team,name:e.operators.map((function(e){return e.name})).toString().replace(","," - ")};q.push(t)})),Object(y.jsx)(m.a,{children:Object(y.jsx)("div",{className:_.a.wrapper,children:Object(y.jsxs)("div",{className:_.a.container,children:[Object(y.jsx)("div",{className:_.a.header,children:Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{className:_.a.boldText,children:"Reclamo #"+c.number}),Object(y.jsx)("p",{children:H})]})}),Object(y.jsx)("div",{className:_.a.content,children:Object(y.jsxs)("h4",{children:[Object(y.jsx)("span",{className:_.a.boldText,children:"Subcuenta:"})," #",c.id_account," - ",c.account_name]})}),Object(y.jsx)("div",{className:_.a.content,children:Object(y.jsxs)("h4",{children:[Object(y.jsx)("span",{className:_.a.boldText,children:"Region:"})," ",c.region?c.region:"Sin Region"]})}),c.task_description&&Object(y.jsx)("div",{className:_.a.content,children:Object(y.jsxs)("h4",{children:[Object(y.jsx)("span",{className:_.a.boldText,children:"Descripcion:"})," ",c.task_description]})}),c.description&&Object(y.jsxs)("div",{className:_.a.content,children:[Object(y.jsx)("h4",{children:Object(y.jsx)("span",{className:_.a.boldText,children:"Descripcion: "})}),Object(y.jsx)("p",{children:c.description})]}),Object(y.jsxs)("form",{"data-testid":"form",onSubmit:function(e){M(e)},children:[Object(y.jsxs)("div",{className:_.a.content,children:[Object(y.jsx)("label",{htmlFor:"cuadrilla",children:Object(y.jsx)("h4",{children:Object(y.jsx)("span",{className:_.a.boldText,children:"Cuadrilla"})})}),Object(y.jsx)(O.a,{selectedValue:w,data:q,name:"cuadrilla",form:"asignar",id:"cuadrilla",onChange:function(e){return C(e.target.value)}})]}),Object(y.jsxs)("div",{className:_.a.content,children:[Object(y.jsx)("label",{htmlFor:"fecha",children:Object(y.jsx)("h4",{children:Object(y.jsx)("span",{className:_.a.boldText,children:"Fecha"})})}),Object(y.jsx)(p.a,{type:"date",id:"fecha",value:j,name:"cuadrillaDate",onChange:function(e){return u(e.target.value)}})]}),Object(y.jsx)("div",{className:_.a.content,children:Object(y.jsx)(x.a,{label:"Prioridad",name:"prioridad",onChange:function(){S((function(e){return!e}))},check:N,disabled:!1})}),Object(y.jsxs)("div",{className:_.a.bottom,children:[Object(y.jsx)(h.a,{variant:"dark",type:"submit",onClick:function(){},children:D?Object(y.jsx)(f.a,{}):Object(y.jsx)("p",{children:"Guardar"})}),Object(y.jsx)(h.a,{variant:"outline",type:"submit",onClick:function(e){F(!1),t(e)},children:Object(y.jsx)("p",{children:"Cancelar"})})]}),Object(y.jsx)("div",{className:_.a.contentCenter,children:L&&Object(y.jsx)(v.a,{type:X?"error":"success",message:L})})]})]})})})},N=c(161),S=c(326),k=c.n(S),T=c(56),w=c(3),C=c.n(w),R=function(e){var t=e.nameKey,c=e.onSelected,a=e.icons,n=e.data,s={id:"",name:"Todos"},r=n?[s].concat(Object(N.a)(n)):0,i=Object(l.useState)(!1),d=Object(o.a)(i,2),j=d[0],b=d[1],_=Object(l.useState)(0),m=Object(o.a)(_,2),h=m[0],O=m[1],p=Object(l.useState)(""),x=Object(o.a)(p,2),f=x[0],v=x[1],g=Object(l.useState)([]),S=Object(o.a)(g,2),w=S[0],C=S[1],R=Object(l.useRef)(null);Object(l.useEffect)((function(){v("Todos"),C(r)}),[n]),Object(l.useEffect)((function(){return document.addEventListener("click",D,!0),function(){document.removeEventListener("click",D,!0)}}),[]);var E,D=function(e){R.current&&!R.current.contains(e.target)&&(v("Todos"),b(!1),V(0,s))},I=function(){b(!j),""===f&&(v("Todos"),V(0,s))},V=function(e,a){v(a.name),O(e),c({target:{name:t,value:a.id}}),b(!1)};return Object(y.jsx)(y.Fragment,{children:n&&Object(y.jsxs)("div",{className:k.a.wrapper,children:[Object(y.jsxs)("div",{className:"".concat(k.a.select," ").concat(j?k.a.borderTop:""," "),onClick:function(){v(""),I()},children:[Object(y.jsxs)("div",{className:k.a.selectedOption,children:[a&&a[h]&&Object(y.jsx)("div",{className:k.a.icon,children:Object(y.jsx)(T.a,{icon:a[h].icon,color:a[h].color})}),Object(y.jsx)("input",{style:{outline:"none"},type:"text",value:f,onChange:function(e){!function(e){if(b(!0),v(e),e.length>0){var t=w.filter((function(t){return t.name.includes(e)}));t.length>0&&C(t)}""===e&&C(r)}(e.target.value)}})]}),Object(y.jsx)("div",{onClick:function(){return I()},children:Object(y.jsx)(T.a,{icon:u.k,color:"#2c5282"})})]}),j&&Object(y.jsx)("div",{ref:R,className:k.a.optionsWrapper,children:(E=w,E.map((function(e,t){return Object(y.jsxs)("div",{className:k.a.options,onClick:function(){return V(t,e)},children:[a&&a[t]&&Object(y.jsx)("div",{className:k.a.icon,children:Object(y.jsx)(T.a,{icon:a[t].icon,color:a[t].color})}),Object(y.jsx)("p",{children:e.name})]},e.name)})))})]})})};R.propstype={defaultValue:C.a.string,onSelected:C.a.func.isRequired,icons:C.a.arrayOf(C.a.shape({icon:C.a.node,color:C.a.string})),data:C.a.arrayOf(C.a.shape({id:C.a.number.isRequired,name:C.a.string.isRequired}))};var E=R,D=c(48),I=c(157),V=c(195),W=c(16),X=c(57);t.default=function(e){var t=e.history,c=null,a=Object(W.c)((function(e){return e.auth.user.id_service})),d=Object(l.useState)([]),b=Object(o.a)(d,2),_=b[0],m=b[1],O=Object(l.useState)([]),p=Object(o.a)(O,2),x=p[0],f=p[1],v=Object(l.useState)({task_type:[],service_types:[],regions:[],states:[]}),N=Object(o.a)(v,2),S=N[0],k=N[1],T=Object(l.useState)(9),w=Object(o.a)(T,2),C=w[0],R=w[1],F=Object(l.useState)(!1),A=Object(o.a)(F,2),K=A[0],L=A[1],z=Object(l.useState)({}),H=Object(o.a)(z,2),M=H[0],q=H[1],Y=Object(l.useState)({stateSelected:"",regionSelected:"",taskTypeSelected:"",serviceTypesSelected:"",numberTaskSelected:""}),B=Object(o.a)(Y,2),J=B[0],G=B[1],P=function(e){G(Object(i.a)(Object(i.a)({},J),{},Object(r.a)({},e.target.name,e.target.value))),L(!1)};Object(l.useEffect)((function(){Object(X.k)(a).then((function(e,t){return k(Object(i.a)(Object(i.a)({},t),e))})),Object(X.y)(a).then((function(e){return f(e)}))}),[a]),Object(l.useEffect)((function(){Object(X.v)(a,J.numberTaskSelected,"","",J.taskTypeSelected,J.serviceTypesSelected,J.stateSelected,J.regionSelected).then((function(e){m(e)}))}),[a,J]);var Q=function(){var e=Object(s.a)(n.a.mark((function e(t,c,s,r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(X.c)(t,c,s,r).then((function(e){return Object(X.v)(a,J.numberTaskSelected,"","",J.taskTypeSelected,J.serviceTypesSelected,J.stateSelected,J.regionSelected).then((function(e){m(e)})),e})));case 1:case"end":return e.stop()}}),e)})));return function(t,c,a,n){return e.apply(this,arguments)}}(),Z=function(e){q(e),K||L(!0)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:j.a.header,children:Object(y.jsx)("h3",{style:{marginBottom:"1rem"},children:Object(y.jsx)("span",{className:j.a.boldText,children:"Reclamos"})})}),Object(y.jsxs)("main",{className:j.a.main,children:[Object(y.jsxs)("div",{className:j.a.filters,children:[Object(y.jsxs)("div",{className:j.a.input_container,children:[Object(y.jsx)("p",{className:j.a.boldText,children:"N\xb0 de reclamo"}),Object(y.jsx)(D.a,{type:"number",name:"numberTaskSelected",icon:u.x,iconColor:"#fe6d73",onChange:function(e){!function(e){c&&clearTimeout(c),c=setTimeout((function(){P(e)}),500)}(e)}})]}),S&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:j.a.input_container,children:[Object(y.jsx)("p",{className:j.a.boldText,children:"Tipo"}),Object(y.jsx)(E,{nameKey:"taskTypeSelected",data:S.task_type,onSelected:P})]}),S.service_types&&Object(y.jsxs)("div",{className:j.a.input_container,children:[Object(y.jsx)("p",{className:j.a.boldText,children:"Servicio"}),Object(y.jsx)(E,{nameKey:"serviceTypesSelected",data:S.service_types,onSelected:P})]}),Object(y.jsxs)("div",{className:j.a.input_container,children:[Object(y.jsx)("p",{className:j.a.boldText,children:"Region"}),Object(y.jsx)(E,{nameKey:"regionSelected",data:S.regions,onSelected:P})]}),Object(y.jsxs)("div",{className:j.a.input_container,children:[Object(y.jsx)("p",{className:j.a.boldText,children:"Estado"}),Object(y.jsx)(E,{nameKey:"stateSelected",data:S.states,onSelected:P})]})]})]}),Object(y.jsxs)("div",{className:j.a.card,children:[Object(y.jsxs)("div",{className:j.a.wrapper,children:[Object(y.jsx)("ul",{children:function(e){var c;return(null===(c=e[0])||void 0===c?void 0:c.number)?e.slice(0,C).map((function(e,c){return Object(y.jsx)(I.a,{index:c,style:{listStyleType:"none"},children:Object(y.jsx)(V.a,{reclamo:e,handlerTask:Z,history:t})},c)})):Object(y.jsx)("div",{className:j.a.error_title,children:Object(y.jsx)("h3",{children:"No hay resultados."})})}(_)}),_.length>C&&Object(y.jsx)(h.a,{variant:"outline",onClick:function(){return R((function(e){return 2*e}))},children:Object(y.jsx)("h4",{className:j.a.boldText,children:"Ver mas"})})]}),Object(y.jsx)("div",{className:K?j.a.modal_open:j.a.modal_close,children:K&&Object(y.jsx)("div",{style:{position:"sticky",top:"0"},children:Object(y.jsx)(g,{onClose:function(e){L(!1),e.preventDefault()},data:M,operators:x,onSave:Q})})})]})]})]})}}}]);
//# sourceMappingURL=10.67b9c899.chunk.js.map