(this.webpackJsonptask_manager=this.webpackJsonptask_manager||[]).push([[14],{154:function(e,t,n){"use strict";n(155),n(156);var c=n(1);t.a=function(e){var t=e.children,n=e.hoverCheck,i=void 0!==n&&n,a=e.style,s=void 0===a?"":a,o="wrapper ".concat(s);return i&&(o="wrapper_hover ".concat(s)),Object(c.jsx)("div",{className:o,children:Object(c.jsx)(c.Fragment,{children:t})})}},155:function(e,t,n){},156:function(e,t,n){},160:function(e,t,n){"use strict";var c=n(161),i=n(164),a=n.n(i),s=n(1);t.a=function(e){var t=e.data,n=e.form,i=e.name,o=e.id,r=e.onChange,l=e.selectedValue,d=void 0===l?0:l,_=e.disabled,u=void 0!==_&&_,j=[{id:0,name:"Seleccione..."}].concat(Object(c.a)(t));return Object(s.jsx)("select",{disabled:u,"data-testid":i,className:a.a.select,name:i,form:n,id:o,onChange:r,required:!0,value:d,children:function(e){return e.map((function(e,t){return Object(s.jsx)("option",{value:e.id,disabled:0===t,children:e.name?e.name:"No hay datos"},e.name+e.id)}))}(j)})}},161:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(43);var i=n(58);function a(e){return function(e){if(Array.isArray(e))return Object(c.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},164:function(e,t,n){e.exports={select:"style_select__2g3EM"}},166:function(e,t,n){"use strict";var c=n(170),i=n.n(c),a=n(56),s=n(41),o=n(1);t.a=function(e){var t=e.onClose,n=e.children,c=e.title;return Object(o.jsx)("div",{className:[i.a.Show].join(" "),children:Object(o.jsxs)("div",{className:[i.a.modalMain].join(" "),children:[Object(o.jsxs)("div",{className:i.a.header,children:[Object(o.jsx)("h3",{children:c}),Object(o.jsx)("button",{className:i.a.closeButton,onClick:function(){return t()},children:Object(o.jsx)(a.a,{icon:s.M})})]}),Object(o.jsx)("div",{className:i.a.children,children:n})]})})}},170:function(e,t,n){e.exports={enabled:"style_enabled__b1wE0",disabled:"style_disabled__oGsvy",assigned:"style_assigned__3HFhx",going:"style_going__3wzGP",working:"style_working__3TMBI",paused:"style_paused__17MEO",finished:"style_finished__3O22G",call:"style_call__2hzsv",confirmed:"style_confirmed__8SqNt",hidden:"style_hidden__3bjb7",Show:"style_Show__1ZiE9",modalMain:"style_modalMain__1BW5E",header:"style_header__2Zpg3",closeButton:"style_closeButton__2bJY7",children:"style_children__2R1Dw"}},199:function(e,t,n){"use strict";var c=n(28),i=n(0);t.a=function(e){var t=Object(i.useState)(e),n=Object(c.a)(t,2),a=n[0],s=n[1],o=Object(i.useRef)(null),r=function(e){o.current&&!o.current.contains(e.target)&&s(!1)};return Object(i.useEffect)((function(){return document.addEventListener("click",r,!0),document.addEventListener("scroll",r,!0),function(){document.removeEventListener("click",r,!0),document.addEventListener("scroll",r,!0)}}),[]),{ref:o,isVisible:a,setIsVisible:s}}},334:function(e,t,n){e.exports={enabled:"style_enabled__D4YuF",disabled:"style_disabled__2QLvQ",assigned:"style_assigned__2DfM_",going:"style_going__1OwRj",working:"style_working__3sQI0",paused:"style_paused__3N0Js",finished:"style_finished__3yCCQ",call:"style_call__2in9v",confirmed:"style_confirmed__1R2lI",hidden:"style_hidden__3hNpV",container:"style_container__3El4h",profile_container:"style_profile_container__1Tz-h",button:"style_button__3QvEw",img:"style_img__2Wnjd",user_content:"style_user_content__38o05",selector_content:"style_selector_content__BEo7P",selector_content_img:"style_selector_content_img__2Xsyk",form_content:"style_form_content__22JDV",form_content_button:"style_form_content_button__JRlXB",custom_file_upload:"style_custom_file_upload__vpU0Z",option:"style_option__2v5_-",logoContainer:"style_logoContainer__2LMuB",titleContainer:"style_titleContainer__254_O",logo:"style_logo__bmBkg"}},335:function(e,t,n){e.exports={options_menu_container:"style_options_menu_container__26MaS",options:"style_options__w6SyD",button_option:"style_button_option__2KWqv",option:"style_option__ekO7Q"}},336:function(e,t,n){e.exports={container:"style_container__1NSiD",logoContainer:"style_logoContainer__1Fxul",logo:"style_logo__2N2An",ul:"style_ul__OZN85",li:"style_li__3jce7",icon:"style_icon__3Xfru",icon_active:"style_icon_active__1PHuF"}},337:function(e,t,n){e.exports={wrapper:"style_wrapper__3jM_T",container:"style_container__uvNew",children:"style_children__21j8i"}},356:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),a=n(4),s=n(28),o=n(0),r=n(334),l=n.n(r),d=n(41),_=n(56),u=n(335),j=n.n(u),b=n(154),m=n(16),h=n(60),O=n(7),f=n(1),p=function(e){var t=Object(m.b)(),n=Object(O.g)();return Object(f.jsx)("div",{className:j.a.options_menu_container,children:Object(f.jsx)(b.a,{children:Object(f.jsxs)("div",{className:j.a.options,children:[Object(f.jsxs)("button",{className:j.a.button_option,onClick:function(){e.onEdit()},children:[Object(f.jsx)("div",{className:j.a.option,children:Object(f.jsx)(_.a,{icon:d.o,size:"1x",className:j.a.icon})}),Object(f.jsx)("p",{children:"Configuraci\xf3n"})]}),Object(f.jsxs)("button",{className:j.a.button_option,onClick:function(){t(h.b()),n.push("/")},children:[Object(f.jsx)("div",{className:j.a.option,children:Object(f.jsx)(_.a,{icon:d.E,size:"1x",className:j.a.icon})}),Object(f.jsx)("p",{children:"Cerrar sesi\xf3n"})]})]})})})},v=n(166),x=n(42),y=n(33),g=n(160),N=n(173),w=n(199),C=n(57),k=function(){var e=Object(m.c)((function(e){return e.auth.user})),t=Object(m.b)(),n=Object(O.g)(),c=Object(w.a)(!1),r=c.ref,u=c.isVisible,j=c.setIsVisible,b=Object(o.useState)(!1),k=Object(s.a)(b,2),S=k[0],E=k[1],M=Object(o.useState)(!1),B=Object(s.a)(M,2),V=B[0],D=B[1],L=Object(o.useState)(!1),z=Object(s.a)(L,2),F=z[0],R=z[1],I=Object(o.useState)(!1),G=Object(s.a)(I,2),J=G[0],Q=G[1],A=Object(o.useState)(!0),T=Object(s.a)(A,2),q=T[0],U=T[1],Z=Object(o.useState)(""),P=Object(s.a)(Z,2),W=P[0],X=P[1],H=Object(o.useState)([]),K=Object(s.a)(H,2),Y=K[0],$=K[1],ee=Object(o.useState)(),te=Object(s.a)(ee,2),ne=te[0],ce=te[1],ie=Object(o.useState)(),ae=Object(s.a)(ie,2),se=ae[0],oe=ae[1],re=Object(o.useState)(""),le=Object(s.a)(re,2),de=le[0],_e=le[1],ue=function(){var e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.o)();case 2:t=e.sent,$(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){ue(),oe(e),X(null===e||void 0===e?void 0:e.email_address)}),[e]);var je=window.location.pathname;Object(o.useEffect)((function(){var e;switch(je){case"/home":e="Tareas Asignadas";break;case"/client":e="Busqueda de Clientes"}_e(e)}),[je]);var be=function(){E(!S),R(!1),Q(!1)},me=function(){var e=Object(a.a)(i.a.mark((function e(n){var c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),D(!0),!J){e.next=7;break}R(!0),D(!1),e.next=15;break;case 7:return(c=new FormData).append("user",se.id),c.append("file",ne[0]),c.append("email",W),e.next=13,Object(C.C)(c);case 13:(a=e.sent).error?(R(!0),D(!1)):((s=se).photo=a.photo,s.email_address=W,t(h.a(s)),D(!1),R(!1));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(N.BrowserView,{children:Object(f.jsxs)("div",{ref:r,className:l.a.container,children:[Object(f.jsx)("div",{className:l.a.container_services,children:(null===se||void 0===se?void 0:se.id_service)&&Object(f.jsx)(g.a,{selectedValue:se.id_service,data:Y,name:"services",form:"services",id:"services",onChange:function(e){!function(e){var c=parseInt(e);t(h.d(c)),n.push("/home")}(e.target.value)}})}),Object(f.jsx)("div",{className:l.a.profile_container,children:Object(f.jsx)("button",{className:l.a.button,id:"user-menu","aria-label":"User menu","aria-haspopup":"true",onClick:function(){j(!u)},children:Object(f.jsx)("img",{className:l.a.img,src:(null===se||void 0===se?void 0:se.photo)?se.photo:"/images/notfound.png",alt:""})})}),u&&Object(f.jsx)(p,{onEdit:be}),S&&Object(f.jsx)(v.a,{title:"Configuraci\xf3n",onClose:be,children:Object(f.jsxs)("form",{onSubmit:function(e){return me(e)},children:[Object(f.jsxs)("div",{className:l.a.form_content,children:[Object(f.jsxs)("div",{className:l.a.user_content,children:[Object(f.jsxs)("p",{children:["N\xb0 de usuario: ",se.id]}),Object(f.jsxs)("p",{children:["Nombre: ",se.first_name+" "+se.last_name]}),Object(f.jsxs)("p",{children:["Nombre de usuario: ",se.username]})]}),Object(f.jsxs)("div",{className:l.a.selector_content,children:[Object(f.jsxs)("div",{className:l.a.selector_content_img,children:[Object(f.jsx)("img",{style:{height:"9rem",width:"9rem",objectFit:"cover",borderRadius:"50%",border:"2px solid #2c5282",position:"relative"},src:ne?URL.createObjectURL(ne[0]):(null===se||void 0===se?void 0:se.photo)?se.photo:"/images/notfound.png",alt:""}),Object(f.jsx)("label",{htmlFor:"file_upload",className:l.a.option,children:Object(f.jsx)(_.a,{icon:d.i})})]}),Object(f.jsx)("input",{id:"file_upload",style:{display:"none"},type:"file",name:"imagen",onChange:function(e){!function(e){var t=e.target.files;t.length>0?ce(t):Q(!0)}(e)}})]})]}),Object(f.jsxs)("div",{className:l.a.form_content,children:[Object(f.jsx)("input",{value:W,onChange:function(e){!function(e){X(e)}(e.target.value)},disabled:q}),Object(f.jsx)(x.a,{variant:"outline",type:"",onClick:function(e){!function(e){e.preventDefault(),Q(!1),new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(W)?U(!q):Q(!0)}(e)},children:Object(f.jsx)("p",{children:q?"Editar":"Confirmar"})})]}),J&&Object(f.jsx)("p",{style:{color:"red"},children:"El email es incorrecto!."}),Object(f.jsxs)("div",{className:l.a.form_content_button,children:[Object(f.jsx)(x.a,{variant:"blue",type:"submit",onClick:function(){},children:V?Object(f.jsx)(y.a,{size:"1.2rem"}):"Guardar"}),Object(f.jsx)(x.a,{variant:"outline",type:"",onClick:function(){be()},children:Object(f.jsx)("p",{children:"Cancelar"})}),F&&Object(f.jsx)("p",{style:{color:"red"},children:"Ocurrio un error, vuelva intentar!."})]})]})})]})}),Object(f.jsx)(N.MobileView,{children:Object(f.jsxs)("div",{className:l.a.container,children:[Object(f.jsx)("div",{className:l.a.logoContainer,children:Object(f.jsx)("img",{className:l.a.logo,src:"/images/logon.png",alt:"G2 Logo"})}),Object(f.jsx)("div",{className:l.a.titleContainer,children:Object(f.jsx)("h3",{children:de})})]})})]})},S=n(34),E=n(336),M=n.n(E),B=function(){var e=[{path:"/home",icon:d.v,mobile:!0},{path:"/client",icon:d.K,mobile:!0},{path:"/calendario",icon:d.e,mobile:!1},{path:"/reclamos",icon:d.D,mobile:!1},{path:"/cuadrillas",icon:d.t,mobile:!1}],t=function(){var t=e;return N.isMobile&&(t=e.filter((function(e){return e.mobile}))),t.map((function(e,t){var n=window.location.pathname===e.path;return Object(f.jsx)("li",{className:M.a.li,children:Object(f.jsx)(S.b,{to:e.path,children:Object(f.jsx)(_.a,{icon:e.icon,className:"".concat(M.a.icon," ").concat(n?M.a.icon_active:"")})})},t)}))};return Object(f.jsxs)("div",{className:M.a.container,children:[Object(f.jsxs)(N.BrowserView,{children:[Object(f.jsx)("div",{className:M.a.logoContainer,children:Object(f.jsx)("img",{className:M.a.logo,src:"/images/logon.png",alt:"G2 Logo"})}),Object(f.jsx)("ul",{className:M.a.ul,children:t()})]}),Object(f.jsx)(N.MobileView,{style:{display:"flex",width:"100%"},children:Object(f.jsx)("ul",{className:M.a.ul,children:t()})})]})},V=n(337),D=n.n(V);t.default=function(e){var t=e.children;e.title;return Object(f.jsxs)("div",{className:D.a.wrapper,children:[Object(f.jsx)(B,{}),Object(f.jsxs)("div",{className:D.a.container,children:[Object(f.jsx)(k,{}),Object(f.jsx)("div",{className:D.a.children,children:t})]})]})}}}]);
//# sourceMappingURL=14.593d052d.chunk.js.map